@page "/"
@using Emusell.Models
@using Emusell.Services
@using Emusell.Components.Shared
@inject ProductService ProductService

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>


<!-- Nasıl Çalışır Section -->
<section class="py-5" aria-labelledby="how-it-works-title">
    <div class="container">
        <h2 id="how-it-works-title" class="section-title display-6">
            Emusell Nasıl Çalışır?
        </h2>
        <div class="row g-4">
            <div class="col-12 col-md-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="bi bi-camera-fill" aria-hidden="true"></i>
                    </div>
                    <h3 class="h4 mb-3">1. Ürününüzü Listeleyin</h3>
                    <p>
                        Ürün fotoğraflarınızı yükleyin, açıklama ekleyin ve fiyat belirleyin. Basit ve hızlı bir süreç!
                    </p>
                </div>
            </div>
            <div class="col-12 col-md-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="bi bi-cart-check-fill" aria-hidden="true"></i>
                    </div>
                    <h3 class="h4 mb-3">2. Kolayca Satın</h3>
                    <p>
                        Alıcılar ürününüzü görüntüleyip mesaj gönderebilir. Güvenli iletişim kanalları ile satış yapın.
                    </p>
                </div>
            </div>
            <div class="col-12 col-md-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="bi bi-wallet-fill" aria-hidden="true"></i>
                    </div>
                    <h3 class="h4 mb-3">3. Güvenle Ödeme Alın</h3>
                    <p>
                        Güvenli ödeme sistemimiz ile ödemelerinizi hızlı ve güvenli şekilde alın.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Öne Çıkan Kategoriler Section -->
<section class="py-5 bg-light" aria-labelledby="categories-title">
    <div class="container">
        <h2 id="categories-title" class="section-title display-6">
            Emusell'de Popüler Kategoriler
        </h2>
        <div class="row g-4">
            <div class="col-12 col-sm-6 col-lg-4">
                <div class="category-card">
                    <div class="category-icon">
                        <i class="bi bi-phone" aria-hidden="true"></i>
                    </div>
                    <h3 class="h5 mb-3">Elektronik</h3>
                    <p class="text-muted mb-3">
                        Telefon, bilgisayar, tablet ve daha fazlası. En son teknoloji ürünlerini uygun fiyatlarla bulun.
                    </p>
                    <NavLink class="btn btn-link p-0" href="/kategoriler/elektronik">
                        Keşfet <i class="bi bi-arrow-right ms-1" aria-hidden="true"></i>
                    </NavLink>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-lg-4">
                <div class="category-card">
                    <div class="category-icon">
                        <i class="bi bi-bag" aria-hidden="true"></i>
                    </div>
                    <h3 class="h5 mb-3">Giyim & Moda</h3>
                    <p class="text-muted mb-3">
                        Kıyafet, ayakkabı, çanta ve aksesuarlar. Stilinize uygun parçaları bulun.
                    </p>
                    <NavLink class="btn btn-link p-0" href="/kategoriler/giyim">
                        Keşfet <i class="bi bi-arrow-right ms-1" aria-hidden="true"></i>
                    </NavLink>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-lg-4">
                <div class="category-card">
                    <div class="category-icon">
                        <i class="bi bi-house" aria-hidden="true"></i>
                    </div>
                    <h3 class="h5 mb-3">Ev & Yaşam</h3>
                    <p class="text-muted mb-3">
                        Mobilya, dekorasyon, ev eşyaları. Evinizi güzelleştirin.
                    </p>
                    <NavLink class="btn btn-link p-0" href="/kategoriler/ev-yasam">
                        Keşfet <i class="bi bi-arrow-right ms-1" aria-hidden="true"></i>
                    </NavLink>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-lg-4">
                <div class="category-card">
                    <div class="category-icon">
                        <i class="bi bi-book" aria-hidden="true"></i>
                    </div>
                    <h3 class="h5 mb-3">Kitap & Hobi</h3>
                    <p class="text-muted mb-3">
                        Kitaplar, müzik aletleri, oyuncaklar ve hobi malzemeleri.
                    </p>
                    <NavLink class="btn btn-link p-0" href="/kategoriler/kitap-hobi">
                        Keşfet <i class="bi bi-arrow-right ms-1" aria-hidden="true"></i>
                    </NavLink>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-lg-4">
                <div class="category-card">
                    <div class="category-icon">
                        <i class="bi bi-bicycle" aria-hidden="true"></i>
                    </div>
                    <h3 class="h5 mb-3">Taşıt</h3>
                    <p class="text-muted mb-3">
                        Araba, bisiklet, motosiklet ve diğer taşıtlar. Uygun fiyatlı seçenekler.
                    </p>
                    <NavLink class="btn btn-link p-0" href="/kategoriler/tasit">
                        Keşfet <i class="bi bi-arrow-right ms-1" aria-hidden="true"></i>
                    </NavLink>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-lg-4">
                <div class="category-card">
                    <div class="category-icon">
                        <i class="bi bi-grid-3x3-gap" aria-hidden="true"></i>
                    </div>
                    <h3 class="h5 mb-3">Tüm Kategoriler</h3>
                    <p class="text-muted mb-3">
                        Aradığınız her şeyi bulun. Tüm kategorileri keşfedin.
                    </p>
                    <NavLink class="btn btn-link p-0" href="/kategoriler">
                        Keşfet <i class="bi bi-arrow-right ms-1" aria-hidden="true"></i>
                    </NavLink>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Referanslar/Testimonials Section -->
<section class="py-5" aria-labelledby="testimonials-title">
    <div class="container">
        <h2 id="testimonials-title" class="section-title display-6">
            Kullanıcılarımızdan Gelenler
        </h2>
        <div class="row g-4">
            <div class="col-12 col-md-4">
                <div class="testimonial-card">
                    <div class="d-flex align-items-center mb-3">
                        <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=120&h=120&fit=crop&crop=faces&auto=format" 
                             alt="Ayşe Kaya profil fotoğrafı" 
                             class="testimonial-avatar me-3" />
                        <div>
                            <h4 class="h6 mb-0">Ayşe Kaya</h4>
                            <small class="text-muted">Satıcı</small>
                        </div>
                    </div>
                    <p class="mb-0">
                        "Emusell sayesinde eski telefonumu kolayca sattım. Süreç çok basit ve güvenliydi. Tavsiye ederim!"
                    </p>
                </div>
            </div>
            <div class="col-12 col-md-4">
                <div class="testimonial-card">
                    <div class="d-flex align-items-center mb-3">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=120&h=120&fit=crop&crop=faces&auto=format" 
                             alt="Mehmet Yılmaz profil fotoğrafı" 
                             class="testimonial-avatar me-3" />
                        <div>
                            <h4 class="h6 mb-0">Mehmet Yılmaz</h4>
                            <small class="text-muted">Alıcı</small>
                        </div>
                    </div>
                    <p class="mb-0">
                        "Aradığım kitapları Emusell'de buldum. Çok uygun fiyatlı ve hızlı teslimat. Teşekkürler!"
                    </p>
                </div>
            </div>
            <div class="col-12 col-md-4">
                <div class="testimonial-card">
                    <div class="d-flex align-items-center mb-3">
                        <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=120&h=120&fit=crop&crop=faces&auto=format" 
                             alt="Zeynep Demir profil fotoğrafı" 
                             class="testimonial-avatar me-3" />
                        <div>
                            <h4 class="h6 mb-0">Zeynep Demir</h4>
                            <small class="text-muted">Satıcı</small>
                        </div>
                    </div>
                    <p class="mb-0">
                        "Kullanmadığım giyim eşyalarımı satarak hem para kazandım hem de çevreye katkı sağladım. Harika bir platform!"
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Öne Çıkan Ürünler Section -->
<section class="py-5" aria-labelledby="featured-products-title">
    <div class="container">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 id="featured-products-title" class="section-title display-6 mb-0">
                Öne Çıkan Ürünler
            </h2>
            <NavLink class="btn btn-outline-primary" href="/urunler">
                Tümünü Gör <i class="bi bi-arrow-right ms-2"></i>
            </NavLink>
        </div>

        @if (isLoadingProducts)
        {
            <LoadingSpinner Message="Ürünler yükleniyor..." />
        }
        else if (featuredProducts == null || !featuredProducts.Any())
        {
            <EmptyState 
                Icon="bi-box-seam"
                Title="Henüz Ürün Yok"
                Message="Yeni ürünler eklendiğinde burada görünecek."
                ActionText="İlk Ürünü Ekle"
                ActionLink="/urun-ekle" />
        }
        else
        {
            <div class="row g-4">
                @foreach (var product in featuredProducts)
                {
                    <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                        <ProductCard Product="@product" />
                    </div>
                }
            </div>
        }
    </div>
</section>

<!-- CTA Bandı -->
<section class="cta-section" aria-labelledby="cta-title">
    <div class="container text-center">
        <h2 id="cta-title" class="display-5 mb-4">
            Aradığınız ürünü bulamıyor musunuz veya eşyalarınızı satmak mı istiyorsunuz?
        </h2>
        <NavLink class="btn btn-accent btn-lg" href="/kayit">
            Hemen Ücretsiz Kayıt Olun
        </NavLink>
    </div>
</section>

<!-- SSS Section -->
<section class="py-5 bg-light" aria-labelledby="faq-title">
    <div class="container">
        <h2 id="faq-title" class="section-title display-6">
            Sıkça Sorulan Sorular
        </h2>
        <div class="accordion accordion-flush" id="faqAccordion">
            <div class="accordion-item">
                <h3 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                            data-bs-target="#faq1" aria-expanded="false" aria-controls="faq1">
                        Emusell'de ürün satmak ücretli mi?
                    </button>
                </h3>
                <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        Hayır! Emusell'de ürün listeniz ücretsizdir. Sadece satış gerçekleştiğinde küçük bir komisyon alınır.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h3 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                            data-bs-target="#faq2" aria-expanded="false" aria-controls="faq2">
                        Ödemeler nasıl yapılıyor?
                    </button>
                </h3>
                <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        Ödemeler güvenli ödeme sistemimiz üzerinden yapılır. Kredi kartı, banka kartı ve havale/EFT seçenekleri mevcuttur.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h3 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                            data-bs-target="#faq3" aria-expanded="false" aria-controls="faq3">
                        Ürünlerim ne kadar sürede satılır?
                    </button>
                </h3>
                <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        Satış süresi ürününüzün popülerliğine, fiyatına ve açıklamasına bağlıdır. Genellikle iyi fotoğraflı ve uygun fiyatlı ürünler daha hızlı satılır.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h3 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                            data-bs-target="#faq4" aria-expanded="false" aria-controls="faq4">
                        Güvenli alışveriş nasıl sağlanıyor?
                    </button>
                </h3>
                <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        Tüm kullanıcılarımız doğrulanır ve güvenli ödeme sistemi kullanılır. Ayrıca müşteri destek ekibimiz her zaman yanınızdadır.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h3 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                            data-bs-target="#faq5" aria-expanded="false" aria-controls="faq5">
                        Ürün iade edilebilir mi?
                    </button>
                </h3>
                <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        İkinci el ürünlerde iade politikası satıcı tarafından belirlenir. Ürün açıklamasında iade şartları belirtilir. Sorun yaşarsanız destek ekibimizle iletişime geçebilirsiniz.
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@code {
    private List<Product>? featuredProducts;
    private bool isLoadingProducts = true;

    protected override async Task OnInitializedAsync()
    {
        await LoadFeaturedProducts();
    }

    private async Task LoadFeaturedProducts()
    {
        isLoadingProducts = true;
        var allProducts = await ProductService.GetAllProductsAsync();
        featuredProducts = allProducts.Take(8).ToList();
        isLoadingProducts = false;
    }
}

Welcome to your new app.

